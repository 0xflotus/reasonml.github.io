<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Convertir depuis JavaScript · Reason</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Convertir depuis JavaScript · Reason"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/index.html"/><meta property="og:description" content="## Préparation"/><link rel="shortcut icon" href="/img/icon_50.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/blog/atom.xml" title="Reason Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/blog/feed.xml" title="Reason Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/dummy.svg"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/fr/quickstart-javascript.html" target="_self">Docs</a></li><li><a href="/fr/try.html" target="_self">Éditeur</a></li><li><a href="/api/index.html" target="_self">API</a></li><li><a href="/docs/fr/community.html" target="_self">Communauté</a></li><li><a href="/blog" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/ja">日本語</a></li><li><a href="/en">English</a></li><li><a href="/es-ES">Español</a></li><li><a href="/ko">한국어</a></li><li><a href="/pt-BR">Português (Brasil)</a></li><li><a href="/ru">Русский</a></li><li><a href="/uk">Українська</a></li><li><a href="/zh-CN">中文</a></li><li><a href="/zh-TW">繁體中文</a></li><li><a href="https://crowdin.com/project/reason" target="_blank">Aider à la traduction</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/facebook/reason" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>JavaScript</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Intro</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/what-and-why.html">Quoi &amp; Pourquoi</a></li></ul></div><div class="navGroup navGroupActive"><h3>Configuration de l&#x27;éditeur</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/global-installation.html">Installation globale</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/editor-plugins.html">Plugins éditeurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/extra-goodies.html">Goodies supplémentaires</a></li></ul></div><div class="navGroup navGroupActive"><h3>Principes de base du langage</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/let-binding.html">Binding let</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/type.html">Type!</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/string-and-char.html">String &amp; Char</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/boolean.html">Booléen</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/integer-and-float.html">Integer &amp; Float</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/tuple.html">Tuple</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/record.html">Record</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/variant.html">Variant!</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/list-and-array.html">List &amp; Array</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/function.html">Fonction</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/if-else.html">If-Else</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/more-on-type.html">Plus sur les types</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/destructuring.html">Destructuring</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/pattern-matching.html">Pattern Matching!</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/mutation.html">Mutations</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/imperative-loops.html">Boucles impératives</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/jsx.html">JSX</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/external.html">External</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/exception.html">Exception</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/object.html">Objet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/module.html">Module</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/promise.html">Promise</a></li></ul></div><div class="navGroup navGroupActive"><h3>JavaScript</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/quickstart-javascript.html">Démarrage rapide</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/interop.html">Interopérabilité</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/syntax-cheatsheet.html">Cheatsheet de la syntaxe</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/libraries.html">Librairies</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/fr/converting-from-js.html">Convertir depuis JavaScript</a></li></ul></div><div class="navGroup navGroupActive"><h3>Natif</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/native.html">Natif</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/quickstart-ocaml.html">Démarrage rapide</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/convert-from-ocaml.html">Convertir depuis OCaml</a></li></ul></div><div class="navGroup navGroupActive"><h3>Extra</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/faq.html">Foire aux Questions</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/comparison-to-ocaml.html">Comparaison avec OCaml</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/newcomer-examples.html">Exemples néophytes</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/project-structure.html">Structure de projet</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason/fr" target="_blank">Translate</a><h1>Convertir depuis JavaScript</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" name="preparation"></a><a href="#preparation" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Préparation</h2>
<p><strong>Avant de procéder</strong>, assurez-vous que Reason est ce dont votre équipe a besoin ! Ertes nous voudrions voir croître la popularité de Reason et BuckleScript, mais ne dérangez pas inutilement vos collègues, en leur donnant une mauvaise première impression qui plus est. C'est difficile à défaire après coup.</p>
<p>Ce guide couvre un workflow qui nous a aidé à convertir les choses rapidement et de façon efficace. Il n'est pas destiné à passer en revue les fonctionnalités du langage/fonctionnalités de l'IFE (bien que cela les mettent en contexte). Des connaissances de base en Reason/BuckleScript sont un prérequis.</p>
<h2><a class="anchor" aria-hidden="true" name="syntaxe"></a><a href="#syntaxe" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntaxe</h2>
<p><strong>Objectif</strong> : tout d'abord, <strong>rendre le fichier syntaxiquement valide</strong>. Ne vous souciez pas des types incorrects, des modules manquants, de la mauvaise organisation des fichiers, d'autres externals, etc. Nous reviendrons pour les nettoyer après avoir configuré le test de régression pour qu'il n'y ait &quot;pas d'erreurs de syntaxe&quot;.</p>
<p>Étant donné que la syntaxe Reason ressemble à celle de JavaScript, au lieu de créer un nouveau fichier Reason, il suffit de copier sur un fichier JavaScript existant et de travailler en haut de celui-ci.</p>
<p><em>Conseil</em> : n'oubliez pas que vous pouvez utiliser <code>refmt</code> dans votre éditeur/terminal ! I par exemple vous ne connaissez pas la préséance de certaines opérations, enveloppez-les dans autant de parenthèses que vous le souhaitez, puis <code>refmt</code>-ez votre code et voyez celles qui restent. De même, il n'est pas nécessaire de perdre du temps sur les indentations et l'espacement : <code>refmt</code> prend soin d'eux.</p>
<pre><code class="hljs css js"><span class="hljs-comment">/* fichier JavaScript original que vous avez copié */</span>
<span class="hljs-keyword">const</span> school = <span class="hljs-built_in">require</span>(<span class="hljs-string">'school'</span>);

<span class="hljs-keyword">const</span> defaultId = <span class="hljs-number">10</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">queryResult</span>(<span class="hljs-params">usePayload, payload</span>) </span>{
  <span class="hljs-keyword">if</span> (usePayload) {
    <span class="hljs-keyword">return</span> payload.student
  }
  <span class="hljs-keyword">return</span> school.getStudentById(defaultId);
}
</code></pre>
<p>Voici certaines choses que vous feriez à cette étape :</p>
<ul>
<li>Convertir la syntaxe d'appel de fonctions.</li>
<li>Convertir les<code>var</code>/<code>const</code> en <code>let</code>.</li>
<li>Commenter les <code>require</code>s.</li>
<li>Effectuer d'autres changements similaires. Pour les expressions idiomatiques qui n'ont pas d'équivalent, BuckleScript utilise <code>bs.raw</code> (<a href="https://bucklescript.github.io/docs/en/embed-raw-javascript.html">documentation</a>).</li>
</ul>
<p>Encore une fois, <strong>ne vous inquiétez que de rendre le fichier syntaxiquement valide</strong>. Essayer d'apprendre les trois syntaxes, les types et autres sémantiques lors de la conversion d'un fichier réduit votre vitesse d'itération à moins d'un tiers.</p>
<pre><code class="hljs css reason">/* syntaxe valide, conversion sémantiquement incorrecte */
/*<span class="hljs-built_in"> const </span>school = require('school'); */
let defaultId = 10;

let queryResult = (usePayload, payload) =&gt;
 <span class="hljs-built_in"> if </span>(usePayload) {
    payload.student
  } else {
    /* pas besoin de<span class="hljs-built_in"> return </span>anticipé en reason;<span class="hljs-built_in"> if-else </span>est une expression */
    school.getStudentById(
      defaultId
    )
  };
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="types-passe-1"></a><a href="#types-passe-1" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Types, Passe 1</h2>
<p><strong>Objectif</strong> : corriger les types, mais juste assez pour passer à la prochaine étape.</p>
<p>Vous pouvez parfois obtenir des erreurs de syntaxe, mais pas aussi drastiques que l'étape précédente.</p>
<ul>
<li>Changer <code>foo.bar</code> en <code>foo##bar</code>. Cette <a href="https://bucklescript.github.io/docs/en/object.html#object-as-record"> fonctionnalité escape-hatch de BuckleScript feature</a> sera votre ami à moyen terme.</li>
<li>Convert <code>{foo: bar}</code> en <code>[%bs.obj {foo: bar}]</code> (<a href="https://bucklescript.github.io/docs/en/object.html#creation">docs</a>). Après <code>refmt</code>, le tout sera sucré en <code>{&quot;foo&quot;: bar}</code>.</li>
<li>Pour communiquer avec des fichiers JavaScript externes, utilisez <code>external</code>. Ils sont <a href="https://bucklescript.github.io/docs/en/intro-to-external.html">l'interface de fonction étrangère de BuckleScript</a>.
<ul>
<li>Externals inline. Pas besoin de créer des fichiers propres et bien séparés pour les externals pour l'instant. Nous reviendrons là-dessus.</li>
<li>S'il est trop compliqué de saisir correctement une entrée/sortie d'un <code>external</code>, utilisez certains types polymorphiques par défaut, par exemple : <code>external getStudentById: 'whatever =&gt; 'whateverElse = ...</code>.</li>
<li>Pour les types &amp; modèles de données difficiles à convertir correctement, vous pouvez parfois créer des convertisseurs comme <code>external unsafeCast : myPayloadType =&gt; anotherDataType = &quot;%identity&quot;;</code>.</li>
</ul></li>
</ul>
<p>C'est la première passe, les types finaux semblent différents. Pour l'instant, récoltez les récompenses ! Une fois que vous avez fini de réparer toutes les erreurs de type, votre fichier JavaScript devrait maintenant être généré. Gardez-le ouvert à côte. Il est temps de revenir et de réparer tous les hacks !</p>
<pre><code class="hljs css reason">/* syntaxiquement valide, toujours sémantiquement faux, mais mieux */
[@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"school"</span>] <span class="hljs-keyword">external</span> getStudentById : <span class="hljs-symbol">'whatever</span> =&gt; <span class="hljs-symbol">'whateverElse</span> = <span class="hljs-string">"getStudentById"</span>;

<span class="hljs-keyword">let</span> defaultId = <span class="hljs-number">10</span>;

<span class="hljs-keyword">let</span> queryResult = (usePayload, payload) =&gt;
  <span class="hljs-keyword">if</span> (usePayload) {
    payload##student /* cela sera déduit comme <span class="hljs-type">`Js</span>.t <span class="hljs-symbol">'a</span>` */
  } <span class="hljs-keyword">else</span> {
    getStudentById(defaultId)
  };
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="semantiques-d-execution"></a><a href="#semantiques-d-execution" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sémantiques d'exécution</h2>
<p><strong>Objectif</strong> : corriger les erreurs dans le JavaScript généré.</p>
<p>Comparez-le avec votre ancien fichier JavaScript. Le résultat est probablement incorrect. Vous avez probablement mal converti certaines expressions idiomatiques et avez mal écrit des internals.</p>
<ul>
<li>Typez la forme des objets JavaScript (les choses nécessitant <code>##</code>).</li>
<li>Convertissez n'importe quelle partie en records/variants/types idiomatiques OCaml.</li>
</ul>
<p>Vérifiez le résultat en quête de n'importe quel changement.</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">type</span> student; /* <span class="hljs-keyword">type</span> abstrait, décrit plus tard */
[@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"school"</span>] <span class="hljs-keyword">external</span> getStudentById : <span class="hljs-symbol">'whatever</span> =&gt; student = <span class="hljs-string">"getStudentById"</span>;

<span class="hljs-keyword">type</span> payloadType = {. <span class="hljs-string">"student"</span>: student};
<span class="hljs-keyword">let</span> defaultId = <span class="hljs-number">10</span>;

<span class="hljs-keyword">let</span> queryResult = (usePayload, payload: payloadType) =&gt;
  <span class="hljs-keyword">if</span> (<span class="hljs-type">Js</span>.to_bool(usePayload)) {
    payload##student
  } <span class="hljs-keyword">else</span> {
    getStudentById(defaultId)
  };
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="nettoyage-types-passe-2"></a><a href="#nettoyage-types-passe-2" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nettoyage (Types, Passe 2)</h2>
<p><strong>Objectif</strong> : rendre vos types legit (aka, <em>sound</em>).</p>
<p>Reprenez tout bug que vous auriez laissé pendant la première passe et corrigez-le.</p>
<ul>
<li>Assurez-vous que vous n'avez aucun type <code>'whatever</code> dans vos <code>external</code>.</li>
<li>Vous pouvez conserver vos <code>external</code> inlined, ou les extraire dans un fichier.</li>
</ul>
<pre><code class="hljs css reason"><span class="hljs-comment">/* dans le fichier actuel */</span>
type <span class="hljs-attr">payloadType</span> = {. <span class="hljs-string">"student"</span>: School.student}; <span class="hljs-comment">/* <span class="hljs-doctag">TODO:</span> mettre ceci autre part ! */</span>

<span class="hljs-keyword">let</span> <span class="hljs-attr">defaultId</span> = <span class="hljs-number">10</span>;

<span class="hljs-keyword">let</span> <span class="hljs-attr">queryResult</span> = (usePayload, payload: payloadType) =&gt;
  <span class="hljs-keyword">if</span> (Js.to_bool(usePayload)) {
    payload<span class="hljs-comment">##student</span>
  } <span class="hljs-keyword">else</span> {
    School.getStudentById(defaultId)
  };
</code></pre>
<pre><code class="hljs css reason">/* dans un fichier <span class="hljs-type">School</span>.re dédié */
<span class="hljs-keyword">type</span> student;

[@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"School"</span>] <span class="hljs-keyword">external</span> getStudentById : <span class="hljs-built_in">int</span> =&gt; student = <span class="hljs-string">"getStudentById"</span>;
[@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"School"</span>] <span class="hljs-keyword">external</span> getAllStudents : <span class="hljs-built_in">unit</span> =&gt; <span class="hljs-built_in">array</span>(student) = <span class="hljs-string">"getAllStudents"</span>;
</code></pre>
<p>Le type <code>student</code> n'a pas de contenu réel, c'est ce qu'on appelle un <a href="/docs/fr/module.html#signatures">type abstrait</a>. C'est un moyen pratique de spécifier la relation entre les appels externes sans savoir quelle est la forme des données sous le capot.</p>
<p>Et vous avez terminé !</p>
<h2><a class="anchor" aria-hidden="true" name="conseils"></a><a href="#conseils" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conseils</h2>
<p><strong>N'essayez pas</strong> de convertir complètement un fichier JavaScript en un fichier Reason immaculé d'un seul coup. Une telle méthode pourrait réellement vous ralentir ! Ce n'est pas grave d'avoir des externals et <code>bs.obj</code> de côté, et de ne pas profiter des super fonctionnalités OCaml (variants, arguments labellés, etc.) temporairement. Une fois que vous avez converti quelques autres fichiers connexes, vous pouvez revenir et refactorer <strong>rapidement</strong> en vous reposant sur le système de types.</p>
<p>Quels que soient les utilitaires agréables que vous trouveriez (par exemple, convertir un <code>Js.null_undefined(Js.boolean)</code> vers un <code>bool</code>), placez-les dans un fichier <code>tempUtils.re</code>ou quelque chose comme ça. Ils sont des exemples faciles pour vos collègues et réduisent certains problèmes de conversion.</p>
<p>Nous vous <strong>recommandons vivement</strong> de vérifier le résultat JavaScript dans le contrôle de version. Cela rend l'intégration de système de build quasi inexistante et vous assure que lorsque vous n'êtes pas là, vos coéquipiers peuvent faire de petits changements, auditer le diff de sortie et catch n'importe quelle erreur. Le fait que la sortie JavaScript enregistrée soit compatible avec des correctifs d'urgence est un bon argument de vente (surtout auprès des managers !). Même si vous mettez à niveau la version de BuckleScript, vous allez catch n'importe quelle différence de sortie. C'est comme des <a href="https://facebook.github.io/jest/docs/snapshot-testing.html">snapshots Jest</a>, mais gratuitement !</p>
<p>Comme toujours, contactez-nous sur <a href="https://discord.gg/reasonml">Discord</a> ou le <a href="https://reasonml.chat">Forum</a> pour avoir plus d'aide !</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="libraries.html">← Librairies</a><a class="docs-next button" href="native.html">Natif →</a></div></div></div></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: '966d1e412f67114a07dc0afe44b19b53',
                indexName: 'reason',
                inputSelector: '#search_input_react'
              });
            </script></body></html>