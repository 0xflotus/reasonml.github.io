<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Módulo · Reason</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Módulo · Reason"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/index.html"/><meta property="og:description" content="## Conceptos básicos"/><link rel="shortcut icon" href="/img/icon_50.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/blog/atom.xml" title="Reason Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/blog/feed.xml" title="Reason Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/dummy.svg"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/es-ES/quickstart-javascript.html" target="_self">Documentación</a></li><li><a href="/es-ES/try.html" target="_self">Pruebalo</a></li><li><a href="/api/index.html" target="_self">API</a></li><li><a href="/docs/es-ES/community.html" target="_self">Comunidad</a></li><li><a href="/blog" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/ja">日本語</a></li><li><a href="/en">English</a></li><li><a href="/fr">Français</a></li><li><a href="/ko">한국어</a></li><li><a href="/pt-BR">Português (Brasil)</a></li><li><a href="/ru">Русский</a></li><li><a href="/uk">Українська</a></li><li><a href="/zh-CN">中文</a></li><li><a href="/zh-TW">繁體中文</a></li><li><a href="https://crowdin.com/project/reason" target="_blank">Ayuda a traducir</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/facebook/reason" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Language Basics</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Intro</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/what-and-why.html">Qué y para qué</a></li></ul></div><div class="navGroup navGroupActive"><h3>Configuración de Editor</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/global-installation.html">Instalación global</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/editor-plugins.html">Plugins para el editor</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/extra-goodies.html">Regalos extras</a></li></ul></div><div class="navGroup navGroupActive"><h3>Fundamentos del Idioma</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/overview.html">Vista global</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/let-binding.html">Let Binding</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/type.html">¡Tipo!</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/string-and-char.html">String &amp; Char</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/integer-and-float.html">Integer y Float</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/tuple.html">Tupla</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/record.html">Registro</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/variant.html">¡Variante!</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/list-and-array.html">Lista y Matriz</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/function.html">Función</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/if-else.html">If-Else</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/more-on-type.html">Más de tipo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/destructuring.html">Desestructurando</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/pattern-matching.html">¡Coincidencia de patrones!</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/mutation.html">Mutación</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/imperative-loops.html">Lazos imperativos</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/jsx.html">JSX</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/external.html">Externo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/exception.html">Excepción</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/object.html">Objeto</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/es-ES/module.html">Módulo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/promise.html">Promesa</a></li></ul></div><div class="navGroup navGroupActive"><h3>JavaScript</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/quickstart-javascript.html">Inicio rápido</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/interop.html">Interop</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/syntax-cheatsheet.html">Hoja de Apoyo de sintaxis</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/libraries.html">Librerías</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/converting-from-js.html">Convertir de JS</a></li></ul></div><div class="navGroup navGroupActive"><h3>Nativo</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/native.html">Nativo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/quickstart-ocaml.html">Inicio rápido</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/convert-from-ocaml.html">Convertir de OCami</a></li></ul></div><div class="navGroup navGroupActive"><h3>Extra</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/faq.html">Preguntas Frecuentes</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/comparison-to-ocaml.html">Comparación a OCaml</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/newcomer-examples.html">Ejemplos de novato</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/project-structure.html">Estructura del proyecto</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason/es-ES" target="_blank">Translate</a><h1>Módulo</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" name="conceptos-basicos"></a><a href="#conceptos-basicos" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conceptos básicos</h2>
<p><strong>Los módulos son como mini archivos</strong>! Pueden contener definiciones de tipo, <code>let</code> bindings, módulos anidados, etc.</p>
<h3><a class="anchor" aria-hidden="true" name="creacion"></a><a href="#creacion" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creación</h3>
<p>Para crear un módulo, utiliza la palabra clave <code>module</code>. El nombre del modulo debe comenzar con una <strong>letra mayúscula</strong>. Cualquier cosa que puedas poner en un archivo <code>.re</code>, lo puedes colocar dentro de la definición de un bloque <code>{}</code> de un módulo.</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">module</span> Escuela = {
  <span class="hljs-keyword">type</span> profesion = Maestro | Director;
  
  <span class="hljs-keyword">let</span> persona1 = Maestro;
  <span class="hljs-keyword">let</span> obtenerProfesion = <span class="hljs-function">(<span class="hljs-params">persona</span>) =&gt;</span>
    <span class="hljs-keyword">switch</span>(persona) {
    | <span class="hljs-function"><span class="hljs-params">Maestro</span> =&gt;</span> <span class="hljs-string">"Un maestro"</span> 
    | <span class="hljs-function"><span class="hljs-params">Director</span> =&gt;</span> <span class="hljs-string">"Un director"</span>
    };
};
</code></pre>
<p>El contenido de un módulo (incluyendo los tipos!) puede ser accedido de manera muy similar a un registro, usando <code>.</code> para anotarlo. Esto demuestra la utilidad de los módulos para el espacio de nombres (<em>namespacing</em>).</p>
<pre><code class="hljs css reason">let anotherPerson: <span class="hljs-keyword">School.profession </span>= <span class="hljs-keyword">School.Teacher;
</span>print_endline(<span class="hljs-keyword">School.getProfession(anotherPerson)); </span><span class="hljs-comment">/* "A teacher" */</span>
</code></pre>
<p>Los módulos anidados también funcionan.</p>
<pre><code class="hljs css reason">module <span class="hljs-attr">MiModulo</span> = {
  module <span class="hljs-attr">ModuloAnidado</span> = {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">mensaje</span> = <span class="hljs-string">"hola"</span>;
  };
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">mensaje</span> = MiModulo.ModuloAnidado.mensaje;
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="abriendo-open-un-modulo"></a><a href="#abriendo-open-un-modulo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abriendo (<code>open</code>) un módulo</h3>
<p>Referirse constantemente a un valor/tipo en un módulo puede ser tedioso. Podemos abrir la definición de módulo y referirnos a su contenido sin tener que anteponer el nombre del módulo. Dos maneras:</p>
<p>Apertura local.</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">let</span> message =
  School.(
    <span class="hljs-keyword">switch</span> (person1) {
    | <span class="hljs-function"><span class="hljs-params">Teacher</span> =&gt;</span> <span class="hljs-string">"Hello teacher!"</span>
    | <span class="hljs-function"><span class="hljs-params">Director</span> =&gt;</span> <span class="hljs-string">"Hello director!"</span>
    }
  );
</code></pre>
<p>Apertura global. <strong>Usar esto con moderación ya que ofrece comodidad a costa de sencillez de razonamiento</strong>:</p>
<pre><code class="hljs css reason">open <span class="hljs-keyword">School;
</span>let anotherPerson: profession = Teacher<span class="hljs-comment">;</span>
printProfession(anotherPerson)<span class="hljs-comment">;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="extendiendo-los-modulos"></a><a href="#extendiendo-los-modulos" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extendiendo los módulos</h3>
<p>Usando <code>include</code> en un módulo &quot;expande&quot; estáticamente el contenido en uno nuevo, por lo tanto a menudo cumplen el papel de la &quot;herencia&quot; o &quot;mixin&quot;.</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">module</span> BaseComponent = {
  <span class="hljs-keyword">let</span> defaultGreeting = <span class="hljs-string">"Hello"</span>;
  <span class="hljs-keyword">let</span> getAudience = <span class="hljs-function">(<span class="hljs-params">~excited</span>) =&gt;</span> excited ? <span class="hljs-string">"world!"</span> : <span class="hljs-string">"world"</span>;
};

<span class="hljs-keyword">module</span> ActualComponent = {
  <span class="hljs-comment">/* the content is copied over */</span>
  include BaseComponent;
  <span class="hljs-comment">/* overrides BaseComponent.defaultGreeting */</span>
  <span class="hljs-keyword">let</span> defaultGreeting = <span class="hljs-string">"Hey"</span>;
  <span class="hljs-keyword">let</span> render = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> defaultGreeting ++ <span class="hljs-string">" "</span> ++ getAudience(~excited=<span class="hljs-literal">true</span>);
};
</code></pre>
<p><strong>Nota</strong>: <code>open</code> y <code>include</code> ¡son muy diferentes! El primero trae el contenido del módulo a su ámbito actual, así que no tienes que añadir el prefijo con el nombre del módulo cada vez que quieres hacer referencia a un valor. De la otra manera <strong>incluyes</strong> la definición de un módulo estáticamente, luego también se hace un <code>open</code>.</p>
<h3><a class="anchor" aria-hidden="true" name="cada-archivo-re-es-un-modulo"></a><a href="#cada-archivo-re-es-un-modulo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cada archivo <code>.re</code> es un módulo</h3>
<p>Un archivo de OCaml/Reason mapea a un módulo; Esto revela cierta interesante expresividad que hubiera requerido una generación de código previa en otros lenguajes. El archivo <code>react.re</code> forma implícitamente un módulo <code>React</code>, que puede ser visto por otros archivos fuente.</p>
<pre><code class="hljs css reason"><span class="hljs-comment">/* fileA.re. This typically compiles to module FileA below */</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">a</span> = <span class="hljs-number">1</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">b</span> = <span class="hljs-number">2</span>;

<span class="hljs-comment">/* fileB.re */</span>
<span class="hljs-comment">/* Maps fileA's implementation to a new API */</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">alpha</span> = FileA.a;
<span class="hljs-keyword">let</span> <span class="hljs-attr">beta</span> = FileA.b;
</code></pre>
<p>Este fragmento forzado expresa &quot;copiando&quot; un archivo:</p>
<pre><code class="hljs css reason"><span class="hljs-comment">/* fileA.re. This typically compiles to module FileA below */</span>
let a = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
let <span class="hljs-keyword">b </span>= <span class="hljs-number">2</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/* fileB.re */</span>
<span class="hljs-comment">/* compiles to exactly fileA.re's content with no runtime overhead! */</span>
include FileA<span class="hljs-comment">;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="firmas"></a><a href="#firmas" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Firmas</h2>
<p>El tipo de un módulo se llama &quot;firma&quot; y puede ser escrito explícitamente. Si un módulo es como un archivo (implementación) <code>.re</code>, entonces la firma de un módulo es como un archivo (interfaz) <code>.rei</code>.</p>
<h3><a class="anchor" aria-hidden="true" name="creacion"></a><a href="#creacion" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creación</h3>
<p>Para crear una firma, utiliza la palabra clave <code>module type</code>. El nombre de la firma debe comenzar con una <strong>letra mayúscula</strong>. Cualquier cosa que puedas poner en un archivo <code>.rei</code>, lo puedes colocar dentro de un bloque <code>{}</code> de definición de firma.</p>
<pre><code class="hljs css reason"><span class="hljs-comment">/* Partiendo de la sección del ejemplo anterior */</span>
<span class="hljs-keyword">module</span> type EstablishmentType = {
  <span class="hljs-keyword">type</span> profession;
  <span class="hljs-keyword">let</span> getProfession: <span class="hljs-function"><span class="hljs-params">profession</span> =&gt;</span> <span class="hljs-built_in">string</span>;
};
</code></pre>
<p>Una firma define la lista de requisitos que debe satisfacer un módulo para que el mismo coincida con la firma. Estos requisitos tienen la forma:</p>
<ul>
<li><code>let x: int;</code> necesita un enlace (<em>binding</em>) <code>let</code> llamado <code>x</code>, de tipo <code>int</code>.</li>
<li><code>type t = someType;</code> requiere que un campo de tipo <code>t</code> sea igual a <code>someType</code>.</li>
<li><code>type t;</code> requiere que un campo de tipo <code>t</code>, pero sin imponer ningún requerimiento en el, tipo concreto de <code>t</code>. Usaríamos <code>t</code> en otras entradas en la firma para describir las relaciones, por ejemplo, <code>let makePair: t =&gt; (t, t)</code> pero no podemos, por ejemplo, suponer que <code>t</code> es un <code>int</code>. Esto nos da magnificas habilidades de abstracción forzadas.</li>
</ul>
<p>Para ilustrar las diversas clases de entradas de tipo, considera la firma anterior <code>EstablishmentType</code> la cual requiere que un módulo:</p>
<ul>
<li>Declara un tipo llamado <code>profession</code>.</li>
<li>Debe incluir una función que toma un valor del tipo <code>profesión</code> y devuelve una cadena.</li>
</ul>
<p><strong>Nota</strong>:</p>
<p>Los módulos del tipo <code>EstablishmentType</code> pueden contener más campos de los que la firma declara, al igual que el módulo <code>School</code> en la sección anterior (si elegimos asignarle el tipo <code>EstablishmentType</code>. De lo contrario, <code>School</code> expone cada campo). ¡Esto eficazmente convierte el campo <code>person1</code> en un detalle de la implementación forzado! Entidades externas no pueden acceder a él, puesto que no está presente en la firma; la firma <strong>restringe</strong> lo que otros pueden acceder.</p>
<p>El tipo <code>EstablishmentType.profession</code> es <strong>abstracto</strong>: no tiene un tipo concreto; está diciendo &quot;no me importa cual es el tipo real, pero es usado como entrada para <code>getProfession&quot;</code>. Esto es útil para encajar muchos módulos bajo la misma interfaz:</p>
<pre><code class="hljs css reason">module Company: EstablishmentType = {
 <span class="hljs-built_in"> type </span>profession = CEO | Designer | Engineer | <span class="hljs-built_in">..</span>.;

  let getProfession = (person) =&gt; <span class="hljs-built_in">..</span>.;
  let person1 = <span class="hljs-built_in">..</span>.;
  let person2 = <span class="hljs-built_in">..</span>.;
};
</code></pre>
<p>También es útil para ocultar el tipo subyacente como un detalle de implementación de el que otros no dependen. Si usted pregunta cuál es el tipo de <code>Company.profession</code>, en lugar de exponer la variante, sólo te dirá &quot;es <code>Company.profession&quot;</code>.</p>
<h3><a class="anchor" aria-hidden="true" name="extendiendo-firmas-de-modulos"></a><a href="#extendiendo-firmas-de-modulos" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extendiendo firmas de módulos</h3>
<p>Como los propios módulos, las firmas de módulos también pueden ser extendidas a través del <code>include module type of Foo</code>:</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">module</span> <span class="hljs-keyword">type</span> <span class="hljs-type">BaseComponent</span> = {
  <span class="hljs-keyword">let</span> defaultGreeting: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">let</span> getAudience: (~excited: <span class="hljs-built_in">bool</span>) =&gt; <span class="hljs-built_in">string</span>;
};

<span class="hljs-keyword">module</span> <span class="hljs-keyword">type</span> <span class="hljs-type">ActualComponent</span> = {
  /* <span class="hljs-type">La</span> firma es copiada */
  <span class="hljs-keyword">include</span> (<span class="hljs-keyword">module</span> <span class="hljs-keyword">type</span> <span class="hljs-keyword">of</span> <span class="hljs-type">BaseComponent</span>);
  <span class="hljs-keyword">let</span> render: <span class="hljs-built_in">unit</span> =&gt; <span class="hljs-built_in">string</span>;
};
 
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="cada-archivo-rei-es-una-firma"></a><a href="#cada-archivo-rei-es-una-firma" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cada archivo <code>.rei</code> es una firma</h3>
<p>Parecido a cómo un archivo <code>react.re</code> implícitamente define un módulo <code>React</code>, un archivo <code>react.rei</code> implícitamente define una firma para <code>React</code>. Si <code>react.rei</code> no es proporcionado, la firma de <code>react.re</code> por defecto expone todos los campos del módulo. Porque no contienen archivos de la implementación, los archivos <code>.rei</code> son utilizados en el ecosistema también para documentar la API pública de sus módulos correspondientes.</p>
<pre><code class="hljs css reason"><span class="hljs-comment">/* el fichero react.re (implementación. Compila a el modulo React) */</span>
<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">state</span></span> = int;
<span class="hljs-keyword">let</span> render = (<span class="hljs-built_in">str</span>) =&gt; <span class="hljs-built_in">str</span>;
</code></pre>
<pre><code class="hljs css reason"><span class="hljs-comment">/* el fichero react.rei (interfaz. Compila a la firma del modulo React) */</span>
<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">state</span></span> = int;
<span class="hljs-keyword">let</span> render: <span class="hljs-built_in">str</span> =&gt; <span class="hljs-built_in">str</span>;
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="funciones-de-modulos-functores"></a><a href="#funciones-de-modulos-functores" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Funciones de módulos (functores)</h2>
<p>¡Los módulos pueden ser pasados a las funciones! Sería el equivalente de pasar un fichero como un item de primer clase. No obstante, los módulos están en una &quot;capa&quot; diferente de el lenguaje en relación a otros conceptos comunes, entonces no podemos pasarlos a funciones <em>regulares</em>. En cambio, los pasamos a unas funciones especiales llamadas &quot;functores&quot;.</p>
<p>La sintaxis para definir y utilizar functors es muy parecida a la sintaxis para definir y utilizar las funciones regulares. Las principales diferencias son:</p>
<ul>
<li>Los functores usan la palabra clave <code>module</code> en lugar de <code>let</code>.</li>
<li>Los functores reciben módulos como argumentos y devuelven un módulo.</li>
<li>Los functores <em>requieren</em> anotación de argumentos.</li>
<li>Los functores deben empezar con una letra mayúscula (igual que módulos/firmas).</li>
</ul>
<p>Aquí tienes un ejemplo <code>MakeSet</code> de functor, que recibe un módulo del tipo <code>Comparable</code> y devuelve un nuevo conjunto que puede contener items comparables.</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">module</span> type Comparable = {
  <span class="hljs-keyword">type</span> t;
  <span class="hljs-keyword">let</span> equal: <span class="hljs-function">(<span class="hljs-params">t, t</span>) =&gt;</span> bool;
};

<span class="hljs-keyword">module</span> MakeSet = (Item: Comparable) =&gt; {
  <span class="hljs-comment">/* usemos una lista como un simple back end */</span>
  <span class="hljs-keyword">type</span> backingType = list(Item.t);
  <span class="hljs-keyword">let</span> empty = [];
  <span class="hljs-keyword">let</span> add = (currentSet: backingType, newItem: Item.t) : <span class="hljs-function"><span class="hljs-params">backingType</span> =&gt;</span>
    <span class="hljs-comment">/* si item existe */</span>
    <span class="hljs-keyword">if</span> (List.exists(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> Item.equal(x, newItem), currentSet)) {
      currentSet <span class="hljs-comment">/* devuelve el mismo (inmutable) conjunto (una lista realmente) */</span>
    } <span class="hljs-keyword">else</span> {
      [
        newItem,
        ...currentSet <span class="hljs-comment">/* anteponer a el conjunto y devolverlo */</span>
      ]
    };
};
</code></pre>
<p>Los functores puede ser usados usando la sintaxis de aplicación de funciones. En este caso, estamos creando un conjunto, cuyos elementos son pares de enteros.</p>
<pre><code class="hljs css reason"><span class="hljs-keyword">module</span> IntPair = {
  <span class="hljs-keyword">type</span> t = (int, int);
  <span class="hljs-keyword">let</span> equal = <span class="hljs-function">(<span class="hljs-params">(<span class="hljs-params">x1, y1</span>), (<span class="hljs-params">x2, y2</span>)</span>) =&gt;</span> x1 == x2 &amp;&amp; y1 == y2;
  <span class="hljs-keyword">let</span> create = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> (x, y);
};

<span class="hljs-comment">/* IntPair cumple con la firma Comparable requerida por MakeSet */</span>
<span class="hljs-keyword">module</span> SetOfIntPairs = MakeSet(IntPair);
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="tipos-de-funciones-de-modulo"></a><a href="#tipos-de-funciones-de-modulo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tipos de funciones de módulo</h3>
<p>Igual que con tipos de módulo, tipos de functores también actúa restringiendo y ocultando lo que podríamos suponer acerca de functors. La sintaxis para los tipos de functores son consistentes con los tipos de función, pero con los tipos en mayúsculas para representar las firmas de los módulos que el functor acepta como argumentos y devuelve valores. En el ejemplo anterior, estamos exponiendo el tipo de respaldo de un conjunto; dando a <code>MakeSet</code> una firma de functor, ¡podemos ocultar la estructura de datos subyacente!</p>
<pre><code class="hljs css reason">module<span class="hljs-built_in"> type </span>Comparable = <span class="hljs-built_in">..</span>.

module<span class="hljs-built_in"> type </span>MakeSetType = (Item: Comparable) =&gt; {
 <span class="hljs-built_in"> type </span>backingType;
  let empty: backingType;
  let add: (backingType, Item.t) =&gt; backingType;
};

module MakeSet: MakeSetType = (Item: Comparable) =&gt; {
  <span class="hljs-built_in">..</span>.
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="inconvenientes"></a><a href="#inconvenientes" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inconvenientes</h2>
<p>Módulos y functores son una &quot;capa&quot; diferente del lenguaje que el resto (funciones, enlaces let, estructuras de datos, etc.). Por ejemplo, no puedes de manera sencilla pasarlos en una tupla o registro. ¡Usalos con criterio! Muchas veces, una función o a un registro es suficiente.</p>
<pre><code class="hljs css reason">module <span class="hljs-type">School</span> = <span class="hljs-meta">{...}</span>;

/* ¡esto te dará directamente un error de sintaxis! */
<span class="hljs-keyword">let</span> schools = (<span class="hljs-type">School</span>, <span class="hljs-type">School</span>);
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="object.html">← Objeto</a><a class="docs-next button" href="promise.html">Promesa →</a></div></div></div></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: '966d1e412f67114a07dc0afe44b19b53',
                indexName: 'reason',
                inputSelector: '#search_input_react'
              });
            </script></body></html>