<!DOCTYPE html><html lang="es-ES"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Convertir de OCami · Reason</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Como Reason es solo otra sintaxis para OCaml, convertir un proyecto OCaml es sencillo y no requiere cambios semánticos. Si embargo, se requiere uno poco de configuración y cambios misceláneos."/><meta name="docsearch:language" content="es-ES"/><meta property="og:title" content="Convertir de OCami · Reason"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/index.html"/><meta property="og:description" content="Como Reason es solo otra sintaxis para OCaml, convertir un proyecto OCaml es sencillo y no requiere cambios semánticos. Si embargo, se requiere uno poco de configuración y cambios misceláneos."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/icon_50.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/blog/atom.xml" title="Reason Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/blog/feed.xml" title="Reason Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/es-ES"><img class="logo" src="/img/dummy.svg" alt="Reason"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/es-ES/quickstart-javascript.html" target="_self">Documentación</a></li><li class=""><a href="/es-ES/try.html" target="_self">Pruebalo</a></li><li class=""><a href="/api/index.html" target="_self">API</a></li><li class=""><a href="/docs/es-ES/community.html" target="_self">Comunidad</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ja/convert-from-ocaml.html">日本語</a></li><li><a href="/docs/en/convert-from-ocaml.html">English</a></li><li><a href="/docs/de/convert-from-ocaml.html">Deutsch</a></li><li><a href="/docs/fr/convert-from-ocaml.html">Français</a></li><li><a href="/docs/ko/convert-from-ocaml.html">한국어</a></li><li><a href="/docs/pt-BR/convert-from-ocaml.html">Português (Brasil)</a></li><li><a href="/docs/ru/convert-from-ocaml.html">Русский</a></li><li><a href="/docs/uk/convert-from-ocaml.html">Українська</a></li><li><a href="/docs/zh-CN/convert-from-ocaml.html">中文</a></li><li><a href="/docs/zh-TW/convert-from-ocaml.html">繁體中文</a></li><li><a href="https://crowdin.com/project/reason" target="_blank" rel="noreferrer noopener">Ayuda a traducir</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/reason" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Nativo</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Intro</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/what-and-why.html">Qué y para qué</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Configuración de Editor</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/global-installation.html">Instalación global</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/editor-plugins.html">Plugins para el editor</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/extra-goodies.html">Regalos extras</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Fundamentos del Idioma</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/overview.html">Vista global</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/let-binding.html">Let Binding</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/type.html">¡Tipo!</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/string-and-char.html">String &amp; Char</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/integer-and-float.html">Integer y Float</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/tuple.html">Tupla</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/record.html">Registro</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/variant.html">¡Variante!</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/list-and-array.html">Lista y Matriz</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/function.html">Función</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/if-else.html">If-Else</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/more-on-type.html">Más de tipo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/destructuring.html">Desestructurando</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/pattern-matching.html">¡Coincidencia de patrones!</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/mutation.html">Mutación</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/imperative-loops.html">Lazos imperativos</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/jsx.html">JSX</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/external.html">Externo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/exception.html">Excepción</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/module.html">Módulo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/promise.html">Promesa</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">JavaScript</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/quickstart-javascript.html">Inicio rápido</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/interop.html">Interop</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/syntax-cheatsheet.html">Hoja de Apoyo de sintaxis</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/libraries.html">Librerías</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/converting-from-js.html">Convertir de JS</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Nativo</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/native.html">Nativo</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/quickstart-ocaml.html">Inicio rápido</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/es-ES/convert-from-ocaml.html">Convertir de OCami</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Extra</h3><ul><li class="navListItem"><a class="navItem" href="/docs/es-ES/faq.html">Preguntas Frecuentes</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/comparison-to-ocaml.html">Comparación a OCaml</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/newcomer-examples.html">Ejemplos de novato</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/project-structure.html">Estructura del proyecto</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason/es-ES" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">Convertir de OCami</h1></header><article><div><span><p>Como Reason es solo otra sintaxis para OCaml, convertir un proyecto OCaml es sencillo y no requiere cambios semánticos. Si embargo, se requiere uno poco de configuración y cambios misceláneos.</p>
<h2><a class="anchor" aria-hidden="true" id="ocamlbuild-rebuild"></a><a href="#ocamlbuild-rebuild" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OCamlBuild -&gt; Rebuild</h2>
<p>Reason viene con un substituto de <code>ocamlbuild</code> llamado <code>rebuild</code>, que construirá automáticamente cualquier archivo Reason junto con los archivos de OCaml, sin configuración adicional. Esto te permite agregar archivos de Reason a tu proyecto de OCaml existente poco a poco. Allí donde haya una referencia en tu código a <code>ocamlbuild</code>, simplemente sustitúyela por <code>rebuild</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="makefile"></a><a href="#makefile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Makefile</h2>
<p>Si tu sistema ejecuta explícitamente comandos de construcción, entonces la forma más fácil de usar Reason con <code>ocamlopt/ocamlc</code> es añadiendo los siguientes indicadores para cada etapa de la compilación:</p>
<pre><code class="hljs css languages- sh"><span class="hljs-comment"># intf-suffix indica al compilador donde buscar los correspondientes ficheros de interface</span>
ocamlopt -pp refmt -intf-suffix rei -impl myFile.re
ocamlopt -pp refmt -intf myFile.rei
</code></pre>
<p>Si estas usando <code>ocamlbuild</code> sin <code>rebuild</code>, añade lo siguiente al fichero de <code>_tags</code>, aunque esto probablemente no será suficiente porque <code>ocamlc</code>/<code>ocamlopt</code> necesitará el indicador <code>-intf/impl/intf-sufijo</code>:</p>
<pre><code class="hljs">&lt;**/*.{re,.rei}&gt;: package(reason), syntax(utf8)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="correccion-de-la-sintaxis-del-constructor"></a><a href="#correccion-de-la-sintaxis-del-constructor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Corrección de la sintaxis del constructor</h2>
<p>El código de Reason convertido podria adjuntar <code>[@implicit_arity]</code> a constructores de variantes, de esta manera: <code>C 1 2 [@implicit_arity]</code>. Esto es debido a el hecho de que OCaml tiene una sintaxis ambigua cuando un constructor con múltiples argumentos espera un argumento en forma de tupla. Así que en la etapa de análisis no sabemos si <code>C (1, 2)</code> en OCaml debe traducirse a <code>C (1, 2)</code> o <code>C 1 2</code> en Reason. Por defecto, lo convertiremos a <code>C 1 2 [@implicit_arity]</code>, que indica al compilador que esto puede ser <code>C 1 2</code> o <code>C (1, 2)</code>.</p>
<p>Para impedir que <code>[@implicit_arity]</code> sea generado, se puede usar el modificador <code>--assume-explicit-arity</code> de <code>refmt</code>. Esto fuerza al formateador a generar <code>C 1 2</code> en vez de <code>C 1 2 [@implicit_arity]</code>.</p>
<p>Sin embargo, puesto que <code>C 1 2</code> requiere multiples argumentos, la compilación puede fallar si en realidad es un constructor con una sola tupla como argumento (por ejemplo, <code>Some</code>). Nosotros ya tenemos algunas reglas de excepción internas para cubrir los habituales constructores que requieren una sola tupla como argumento y de esta manera serán convertidos correctamente (e.g.,<code>Some (1, 2)</code> será convertido en <code>Some (1, 2)</code> en vez de <code>Some 1 2</code>, que no seria aceptado por el compilador).</p>
<p>Para proporcionar tu propia lista de excepciones, crea un archivo separado por líneas que contenga todos los constructores (sin prefijo de módulo) en tu proyecto que recibe una sola tupla como argumento, y usa <code>--heuristics-file &lt;filename&gt;</code> para decir a <code>refmt</code> que todos los constructores listados en el fichero serán tratados como constructores con una sola tupla como argumento:</p>
<pre><code class="hljs css languages- sh">&gt; cat heuristicas.txt
  TupleConstructor
  And
  Or
</code></pre>
<pre><code class="hljs css languages- sh">&gt; cat test.ml
</code></pre>
<pre><code class="hljs css languages- ocaml"><span class="hljs-keyword">type</span> tm =
  <span class="hljs-type">TupleConstructor</span> <span class="hljs-keyword">of</span> (<span class="hljs-built_in">int</span> * <span class="hljs-built_in">int</span>)
| <span class="hljs-type">MultiArgumentsConstructor</span> <span class="hljs-keyword">of</span> <span class="hljs-built_in">int</span> * <span class="hljs-built_in">int</span>
<span class="hljs-keyword">let</span> x = <span class="hljs-type">TupleConstructor</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-keyword">let</span> y = <span class="hljs-type">MultiArgumentsConstructor</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-keyword">module</span> <span class="hljs-type">Test</span> = <span class="hljs-keyword">struct</span>
  <span class="hljs-keyword">type</span> a = | <span class="hljs-type">And</span> <span class="hljs-keyword">of</span> (<span class="hljs-built_in">int</span> * <span class="hljs-built_in">int</span>) | <span class="hljs-type">Or</span> <span class="hljs-keyword">of</span> (<span class="hljs-built_in">int</span> * <span class="hljs-built_in">int</span>)
<span class="hljs-keyword">end</span>;;
<span class="hljs-keyword">let</span> a = <span class="hljs-type">Test</span>.<span class="hljs-type">And</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-keyword">let</span> b = <span class="hljs-type">Test</span>.<span class="hljs-type">Or</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-keyword">let</span> c = <span class="hljs-type">Some</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
</code></pre>
<p>Entonces solo para los identificadores de los constructores que fueron listados se asumirá que aceptan tuplas en vez de multiples argumentos.</p>
<pre><code class="hljs css languages- sh">&gt; refmt --heuristics-file \
    ./heuristics.txt --assume-explicit-arity \
    --parse ml --<span class="hljs-built_in">print</span> re test.ml
</code></pre>
<pre><code class="hljs css languages- reason">type tm =
  | TupleConstructor((<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>))
  | MultiArgumentsConstructor(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>);

<span class="hljs-keyword">let</span> x = TupleConstructor((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));

<span class="hljs-keyword">let</span> y = MultiArgumentsConstructor(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);

module Test = {
  type a =
    | <span class="hljs-keyword">And</span>((<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>))
    | <span class="hljs-keyword">Or</span>((<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>));
};

<span class="hljs-keyword">let</span> a = Test.<span class="hljs-keyword">And</span>((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));

<span class="hljs-keyword">let</span> b = Test.<span class="hljs-keyword">Or</span>((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));

<span class="hljs-keyword">let</span> c = Some((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/es-ES/quickstart-ocaml.html">← Inicio rápido</a><a class="docs-next button" href="/docs/es-ES/faq.html">Preguntas Frecuentes →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#ocamlbuild-rebuild">OCamlBuild -&gt; Rebuild</a></li><li><a href="#makefile">Makefile</a></li><li><a href="#correccion-de-la-sintaxis-del-constructor">Corrección de la sintaxis del constructor</a></li></ul></nav></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.min.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper, .onPageNav',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: '966d1e412f67114a07dc0afe44b19b53',
                indexName: 'reason',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["lang:es-ES"]}
              });
            </script></body></html>